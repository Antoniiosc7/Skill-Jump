<div class="container mx-auto p-8 max-w-4xl bg-white shadow-2xl rounded-3xl mt-12 mb-12">
  <h2 class="text-4xl font-bold text-center mb-8 text-blue-700">Profile</h2>
  <div *ngIf="idUsuario; else searchOrTopProfiles">
    <div class="grid grid-cols-2 gap-6 items-center bg-gray-100 p-6 rounded-xl shadow-md">
      <div>
        <label class="block text-gray-800 font-bold text-lg">Username:</label>
        <p class="w-full p-3 border border-gray-300 rounded-lg mt-2 bg-white shadow-inner text-lg">{{ username }}</p>
      </div>
      <button (click)="editProfile()" class="bg-yellow-500 hover:bg-yellow-600 text-white font-semibold py-3 px-6 rounded-full shadow-lg flex items-center justify-center">
        <mat-icon class="mr-2">edit</mat-icon>
        Edit Profile
      </button>
    </div>
    <div class="mt-6 p-6 bg-gray-50 rounded-xl shadow-md">
      <label class="block text-gray-800 font-bold text-lg mb-2">Achievements:</label>
      <ul class="space-y-2">
        <li *ngFor="let achievement of achievements" class="p-3 bg-white rounded-lg shadow-md border border-gray-200">{{ achievement }}</li>
      </ul>
    </div>
    <div class="mt-6 p-6 bg-gray-50 rounded-xl shadow-md">
      <label class="block text-gray-800 font-bold text-lg mb-2">Purchases:</label>
      <ul class="space-y-2">
        <li *ngFor="let purchase of purchases" class="p-3 bg-white rounded-lg shadow-md border border-gray-200 flex justify-between">
          <span class="font-semibold">{{ purchase.itemName }}</span>
          <span class="text-gray-500 text-sm">{{ purchase.date | date }}</span>
        </li>
      </ul>
    </div>
  </div>
  <ng-template #searchOrTopProfiles>
    <div class="p-6 bg-gray-50 rounded-xl shadow-md">
      <label class="block text-gray-800 font-bold text-lg mb-2">Search User:</label>
      <div class="flex gap-4">
        <input type="text" class="flex-1 p-3 border border-gray-300 rounded-lg shadow-inner" #searchInput>
        <button (click)="searchUserProfile(searchInput.value)" class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-full shadow-lg">Search</button>
      </div>
    </div>
    <div class="mt-6 p-6 bg-gray-50 rounded-xl shadow-md">
      <label class="block text-gray-800 font-bold text-lg mb-2">Top Profiles:</label>
      <ul class="space-y-2">
        <li *ngFor="let profile of topProfiles" class="p-3 bg-white rounded-lg shadow-md border border-gray-200 flex justify-between">
          <span class="font-semibold">{{ profile.username }}</span>
          <span class="text-gray-500 text-sm">{{ profile.score }} points</span>
        </li>
      </ul>
    </div>
  </ng-template>
</div>
